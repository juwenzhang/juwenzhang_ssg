# Redis æ–‡æ¡£
> https://www.runoob.com/redis/
> ä¸»è¦çš„å­¦ä¹ è¿æ¥ï¼Œå¯èƒ½æœ‰ç‚¹è€äº†ï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥çœ‹çš„ï¼Œå¯¹äºæ ¡æ‹›çš„è¯ï¼Œä½†æ˜¯æŠ€æœ¯çš„æ•´ä½“è‡ªæˆ‘è¦æ±‚çš„è¯ï¼Œä¸€å®šè¦å¾€æ›´é«˜å¤„å»

## Redis ä»‹ç»
* Redis å’Œ MySQL ä¸åŒçš„æ˜¯
  * Redis æ˜¯ä¸€ä¸ªå†…å­˜å­˜å‚¨å‹æ•°æ®åº“ï¼ŒåŒæ—¶å…¶å­˜å‚¨å½¢å¼æ˜¯ key-value çš„å½¢å¼è¿›è¡Œå­˜å‚¨çš„ï¼Œéå…³ç³»å‹æ•°æ®åº“
  * Mysql æ˜¯ä¸€ä¸ªå…³ç³»å‹ç»“æ„åŒ–çš„å­˜å‚¨æ•°æ®çš„æ•°æ®åº“å§
> Redis æ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨ ANSI C è¯­è¨€ç¼–å†™ã€éµå®ˆ BSD åè®®ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜ã€åˆ†å¸ƒå¼ã€å¯é€‰æŒä¹…æ€§çš„
> é”®å€¼å¯¹(Key-Value)å­˜å‚¨æ•°æ®åº“ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„ APIï¼Œ
> Redis é€šå¸¸è¢«ç§°ä¸ºæ•°æ®ç»“æ„æœåŠ¡å™¨ï¼Œå› ä¸ºå€¼ï¼ˆvalueï¼‰å¯ä»¥æ˜¯å­—ç¬¦ä¸²(String)ã€å“ˆå¸Œ(Hash)ã€åˆ—è¡¨(list)ã€é›†åˆ(sets)å’Œæœ‰åºé›†åˆ(sorted sets)ç­‰ç±»å‹ã€‚

## Redis ç‰¹ç‚¹
* `redis çš„æ€§èƒ½æé«˜`
  * Redis ä»¥å…¶æé«˜çš„æ€§èƒ½è€Œè‘—ç§°ï¼Œèƒ½å¤Ÿæ”¯æŒæ¯ç§’æ•°åä¸‡æ¬¡çš„è¯»å†™æ“ä½œ24
  * Redis èƒ½è¯»çš„é€Ÿåº¦æ˜¯ 110000æ¬¡/sï¼Œå†™çš„é€Ÿåº¦æ˜¯ 81000æ¬¡/s
* `redis ä¸°å¯Œçš„æ•°æ®ç±»å‹`
  * å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€é›†åˆã€å“ˆå¸Œè¡¨ã€æœ‰åºé›†åˆ
* `redis åŸå­åŒ–æ“ä½œ`
  * Redis çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸå­æ€§çš„ï¼Œè¿™æ„å‘³ç€æ“ä½œè¦ä¹ˆå®Œå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå®Œå…¨ä¸æ‰§è¡Œã€‚è¿™ç§ç‰¹æ€§å¯¹äºç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§è‡³å…³é‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹å¤„ç†äº‹åŠ¡æ—¶
* `reids æŒä¹…åŒ–å­˜å‚¨`
  * Redis æ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åˆ°ç£ç›˜ä¸­ï¼Œä»¥ä¾¿åœ¨ç³»ç»Ÿé‡å¯åæ¢å¤æ•°æ®
* `redis æ”¯æŒå‘å¸ƒè®¢é˜…æ¨¡å¼`
  * Redis å…è®¸å®¢æˆ·ç«¯ä¹‹é—´é€šè¿‡æ¶ˆæ¯ä¼ é€’è¿›è¡Œé€šä¿¡ã€‚è¿™ä½¿å¾— Redis å¯ä»¥ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—å’Œå®æ—¶æ•°æ®ä¼ è¾“çš„å¹³å°ã€‚
* `redis ä¸»ä»å¤åˆ¶`
  * Redis æ”¯æŒä¸»ä»å¤åˆ¶ï¼Œå¯ä»¥é€šè¿‡ä»èŠ‚ç‚¹æ¥å¤‡ä»½æ•°æ®æˆ–åˆ†æ‹…è¯»è¯·æ±‚ï¼Œæé«˜æ•°æ®çš„å¯ç”¨æ€§å’Œç³»ç»Ÿçš„ä¼¸ç¼©æ€§ã€‚
* `redis å•çº¿ç¨‹æ¨¡å‹`
  * Redis æ˜¯å•çº¿ç¨‹çš„ï¼Œä½†å®ƒé€šè¿‡é«˜æ•ˆçš„äº‹ä»¶é©±åŠ¨æ¨¡å‹æ¥å¤„ç†å¹¶å‘è¯·æ±‚ï¼Œç¡®ä¿äº†é«˜æ€§èƒ½å’Œä½å»¶è¿Ÿã€‚

## Redis ç®€å•ä½¿ç”¨
```text
# è¿›å…¥ redis æœåŠ¡
redis-cli -h 127.0.0.1 -p 6379
# åŸºæœ¬çš„æ ¼å¼ä¸º: $ redis-cli -h host -p port -a password
redis-cli  # é»˜è®¤æ˜¯åœ¨ localhost:6379 ä¸Šé¢çš„å‘

# è®¾ç½®é”®å€¼å¯¹
set key value

# è·å–é”®å€¼
get key

# åˆ é™¤é”®å€¼å¯¹
del key

# åˆ é™¤æ‰€æœ‰é”®å€¼å¯¹
flushall

# é€€å‡º redis æœåŠ¡
quit
exit
```

## Redis æ•°æ®ç±»å‹
> https://www.runoob.com/redis/redis-data-types.html
* å‰é¢è¯´äº† Redis æ˜¯ä¸€ä¸ªé”®å€¼å¯¹çš„å­˜å‚¨ç³»ç»Ÿï¼ŒåŒæ—¶å¯ä»¥æ”¯æŒçš„æ•°æ®ç±»å‹æ˜¯ååˆ†å¤šçš„å‘
* é‚£ä¹ˆ redis å¯ä»¥æ”¯æŒé‚£äº›æ•°æ®ç±»å‹å‘ï¼Ÿï¼Ÿï¼ŸğŸ¤”ğŸ¤”ğŸ¤”
  * `string` å­—ç¬¦ä¸²
    * `set key value` è®¾ç½®é”®å€¼å¯¹
    * `get key` è·å–é”®å€¼å¯¹
    * `strlen key` è·å–é”®å€¼å¯¹é•¿åº¦
    * `incr key` è‡ªå¢
    * `decr key` è‡ªå‡
    * `append key value` è¿½åŠ å­—ç¬¦ä¸²
    * `getrange key start end` è·å–æŒ‡å®šèŒƒå›´çš„å­—ç¬¦ä¸²
    * `del key` åˆ é™¤é”®å€¼å¯¹
  * `hash` å“ˆå¸Œ
    * `hset key field value`
    * `hget key field`
    * `hdel key field`
    * `hgetall key`
    * `hkeys key`
    * `hvals key`
    * `hlen key`
    * `hexists key field`
  * `list` åˆ—è¡¨
  * `set` é›†åˆ
  * `zset[sorted set]` æœ‰åºé›†åˆ
  * `stream` æµ
  * `ä½å›¾` Bitmaps
  * `è¶…æ—¥å¿—` HyperLogLog
  * `åœ°ç†ç©ºé—´` Geospatial
  * `æ¨¡å—` Modules
  * `å‘å¸ƒè®¢é˜…` Pub/Sub

## Redis äº‹åŠ¡
* ä¸»è¦çš„å‘½ä»¤å°±æ˜¯
  * `multi` å¼€å¯äº‹åŠ¡
  * `exec` æ‰§è¡Œäº‹åŠ¡
  * `discard` æ”¾å¼ƒäº‹åŠ¡
  * `watch key` ç›‘è§†ä¸€ä¸ªæˆ–å¤šä¸ªé”®ï¼Œå¦‚æœåœ¨äº‹åŠ¡æ‰§è¡Œä¹‹å‰ï¼ŒæŸä¸ªé”®å·²ç»è¢«å…¶ä»–å‘½ä»¤æ‰€æ”¹åŠ¨ï¼Œé‚£ä¹ˆ Redis å°†æ”¾å¼ƒæ‰§è¡Œäº‹åŠ¡
  * `unwatch key` å–æ¶ˆå¯¹ä¸€ä¸ªæˆ–å¤šä¸ªé”®çš„ç›‘è§†

## Redis å®‰å…¨
* ä¸»è¦çš„å‘½ä»¤å°±æ˜¯
* è®¾ç½®redisæœåŠ¡å¯†ç 
  * `config set requirepass your_password`
  * `auth your_password`